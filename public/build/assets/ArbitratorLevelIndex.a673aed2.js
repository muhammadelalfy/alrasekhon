import{$ as u}from"./jquery.f931fcee.js";import{_ as M,C as I}from"./app.ca0dd7db.js";import{u as L}from"./vue-toastification.f8d70964.js";import{A as c}from"./arbitrator-levels.api.b0230a52.js";import"./vue.7bf2bcd0.js";import{a5 as l,o as m,Q as k,R as v,X as a,a as t,V as F,W as o,e as q,r as N,c as f,U as y,F as $,a8 as R}from"./@vue.ab32a142.js";import{Q as T}from"./@vueup.fdb4c0f7.js";import"./axios.04e16fa0.js";import"./lodash.4aca12d0.js";import"./vue-router.2be6d445.js";import"./js-cookie.31874410.js";import"./pinia.a7a730fe.js";import"./nprogress.e46cbde5.js";import"./element-plus.f4fb2d76.js";import"./lodash-es.2e433212.js";import"./@vueuse.4ac49989.js";import"./@element-plus.6e503c7c.js";import"./@ctrl.82a509e0.js";import"./dayjs.d96dc93a.js";import"./async-validator.1c690774.js";import"./memoize-one.4ee5c96d.js";import"./escape-html.e5dfadb9.js";import"./normalize-wheel-es.8aeb3683.js";import"./@floating-ui.eae1f4bb.js";import"./vue-i18n.0ab86f4b.js";import"./@intlify.20ef3030.js";import"./js-base64.79f56a98.js";import"./pinia-plugin-persistedstate.f4ca662e.js";import"./vue-sweetalert2.891f877f.js";import"./@fortawesome.c9809c2b.js";import"./datatables.net-bs5.e18c8d11.js";import"./datatables.net.c69c83a2.js";import"./datatables.net-responsive-bs5.449cdb0d.js";import"./datatables.net-responsive.2a10a1b3.js";import"./jszip.2c79a5b0.js";import"./pdfmake.45c49c34.js";import"./datatables.net-buttons-bs5.1ab1a926.js";import"./datatables.net-buttons.5f6c1075.js";import"./quill.2b7d1cee.js";import"./quill-delta.565c40c2.js";import"./fast-diff.40237be0.js";import"./lodash.clonedeep.14434a6c.js";import"./lodash.isequal.30baf809.js";const Q={name:"ArbitratorLevelForm",data(){},props:{id:{type:String,default:"MainAddModal"},ariaLabelledby:String,dataBsBackdrop:String,dataBskeyboard:String,modalDialogScrollable:Boolean,modalDialogCentered:Boolean,modalLg:Boolean,modalFullscreen:Boolean,arbitratorLevel:{type:Object},title:{type:String,default:"pages.add_type"}},methods:{clearForm(){this.clearErrors(),this.resetForm(this.arbitratorLevel)},add(){this.submitFormDisabled=!0,c.store(this.arbitratorLevel).then(({data:e})=>{L().success(this.$t("messages.success")),this.submitFormDisabled=!1,u("#MainAddModal").modal("hide"),this.afterModalAddActions(this.arbitratorLevel,this.$parent.arbitratorLevels,e.data),this.clearEditorContent()}).catch(e=>{console.log(e),this.formErrors=e.response.data.errors})},update(){this.submitFormDisabled=!0,c.update(this.arbitratorLevel).then(({data:e})=>{L().success(this.$t("messages.success")),this.submitFormDisabled=!1,u("#MainAddModal").modal("hide"),this.afterModalUpdateActions(this.arbitratorLevel,this.$parent.arbitratorLevels,e.data,this.arbitratorLevel.id),this.clearEditorContent()}).catch(e=>{console.log(e),this.formErrors=e.response.data.errors})},submit(){this.arbitratorLevel.id===void 0?this.add():this.update()},clearEditorContent(){u(".ql-editor").html("")}}},V={class:"mb-3"},z={class:"form-label"},P={class:"ms-1 text-grayClr"},U={class:"mb-3"},j={class:"form-label"},O={class:"ms-1 text-grayClr"};function W(e,r,s,D,d,n){const b=l("form-input"),h=l("FormQuillEditor"),g=l("form-validation-errors"),A=l("form-modal");return m(),k(A,{id:s.id,"aria-labelledby":s.ariaLabelledby,"modal-dialog-centered":s.modalDialogCentered,"modal-lg":s.modalLg,onClearForm:n.clearForm,onSubmit:n.submit,buttonDisabled:e.submitFormDisabled,title:s.title},{default:v(()=>[a(b,{label:"pages.arbitrator_level_ar",type:"text",model:this.arbitratorLevel.name,name:"ar",errors:e.formErrors,error_key:"name.ar",onClearErrors:r[0]||(r[0]=p=>e.clearInput("name.ar"))},null,8,["model","errors"]),a(b,{label:"pages.arbitrator_level_en",type:"text",model:this.arbitratorLevel.name,name:"en",errors:e.formErrors,error_key:"name.en",onClearErrors:r[1]||(r[1]=p=>e.clearInput("name.en"))},null,8,["model","errors"]),t("div",V,[t("label",z,[F(o(e.$t("pages.desc"))+" (AR) ",1),t("span",P,"( "+o(e.$t("pages.optional"))+" )",1)]),a(h,{ref:"myEditorAr",id:"ar_quil",model:this.arbitratorLevel.description,name:"ar",onClick:r[2]||(r[2]=p=>e.clearInput("description.ar"))},null,8,["model"]),a(g,{errors:e.formErrors,name:"description.ar"},null,8,["errors"])]),t("div",U,[t("label",j,[F(o(e.$t("pages.desc"))+" (EN) ",1),t("span",O,"( "+o(e.$t("pages.optional"))+" )",1)]),a(h,{ref:"myEditorEN",id:"en_quil",model:this.arbitratorLevel.description,name:"en",onClick:r[3]||(r[3]=p=>e.clearInput("description.en"))},null,8,["model"]),a(g,{errors:e.formErrors,name:"description.en"},null,8,["errors"])])]),_:1},8,["id","aria-labelledby","modal-dialog-centered","modal-lg","onClearForm","onSubmit","buttonDisabled","title"])}const X=M(Q,[["render",W],["__file","E:/Roqay/Rasekhon/rasekhon/resources/app/views/settings/arbitrator-levels/ArbitratorLevelForm.vue"]]),G={components:{Card:I,QuillEditor:T,ArbitratorLevelForm:X},setup(){q(()=>{u("#modal-btn").on("click",function(){this.isAdd=!0})})},data(){return{isAdd:N(!0),statusAction:{status:!1},filters:{page:1},pagination:{},arbitratorLevel:{name:{ar:"",en:""},description:{ar:"",en:""}},arbitratorLevels:[]}},methods:{getArbitratorLevels(e=1){this.filters.page=e,c.list(this.filters).then(({data:r})=>{this.arbitratorLevels=r.data,this.pagination=r.meta}).catch(r=>{console.log(r)})},groupForm(e={}){e.id?(this.title="pages.edit_type",this.arbitratorLevel=_.cloneDeep(e)):this.title="pages.add_type",u("#MainAddModal").modal("show")},clearForm(){this.clearErrors()},delArbitratorLevel(e,r){c.delete(e).then(s=>{this.arbitratorLevels.splice(r,1),L().success(s.data.message)})},toggle(e={}){c.changeStatus(e).then(r=>{L().success(r.data.message)})}},created(){this.getArbitratorLevels()}},H={id:"formFilter",class:"collapse multi-collapse"},J=t("th",null,"#",-1),K={class:"btn-list d-inline-flex"},Y=["title"],Z=["onClick"];function x(e,r,s,D,d,n){const b=l("filters"),h=l("card"),g=l("form-switcher"),A=l("font-awesome-icon"),p=l("delete-button"),B=l("DataTable"),S=l("Card"),w=l("ArbitratorLevelForm");return m(),f($,null,[t("div",H,[a(h,null,{body:v(()=>[a(b,{onSubmit:n.getArbitratorLevels,model:d.filters},null,8,["onSubmit","model"])]),_:1})]),a(S,{class:"pt-3"},{default:v(()=>[a(B,null,{default:v(()=>[t("thead",null,[t("tr",null,[J,t("th",null,o(e.$t("pages.name")),1),t("th",null,o(e.$t("pages.desc")),1),t("th",null,o(e.$t("pages.last_update")),1),t("th",null,o(e.$t("pages.status")),1),t("th",null,o(e.$t("global.actions")),1)])]),t("tbody",null,[(m(!0),f($,null,R(d.arbitratorLevels,(i,E)=>(m(),f("tr",{key:i.id},[t("td",null,o(E+1),1),t("td",null,o(i.name_localized),1),t("td",null,[t("p",null,o(i.description_localized),1)]),t("td",null,o(i.last_update),1),t("td",null,[a(g,{id:"status",model:i,name:"status",errors:e.formErrors,onClearErrors:e.clearInput,onToggle:C=>n.toggle(i)},null,8,["model","errors","onClearErrors","onToggle"])]),t("td",null,[t("div",K,[t("div",{"data-bs-toggle":"tooltip","data-bs-placement":"top",title:e.$t("forms.edit")},[e.hasPermission("update","ArbitratorLevel")?(m(),f("button",{key:0,type:"button",class:"btn btn-light-secondary text-white me-1","data-bs-toggle":"modal","data-bs-target":"#MainAddModal",onClick:C=>{d.isAdd=!1,n.groupForm(i)}},[a(A,{icon:"fa-solid fa-pen-to-square"})],8,Z)):y("v-if",!0)],8,Y),e.hasPermission("delete","ArbitratorLevel")?(m(),k(p,{key:0,onDelModel:C=>n.delArbitratorLevel(i,E)},null,8,["onDelModel"])):y("v-if",!0)])])]))),128))])]),_:1})]),_:1}),y(" Modal "),a(w,{arbitratorLevel:d.arbitratorLevel,showButton:!1,title:d.isAdd?e.$t("pages.add_level"):e.$t("pages.edit_level"),id:"MainAddModal","aria-labelledby":"MainAddModalLabel","modal-dialog-centered":!0,"modal-lg":!0},null,8,["arbitratorLevel","title"])],64)}const je=M(G,[["render",x],["__file","E:/Roqay/Rasekhon/rasekhon/resources/app/views/settings/arbitrator-levels/ArbitratorLevelIndex.vue"]]);export{je as default};
