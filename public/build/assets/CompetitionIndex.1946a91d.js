import{k as q,m as R,n as U}from"./element-plus.f4fb2d76.js";import"./vue.7bf2bcd0.js";import{_ as F,C as M}from"./app.ca0dd7db.js";import{u as P}from"./vue-i18n.0ab86f4b.js";import{u as O}from"./vue-toastification.f8d70964.js";import{C as S}from"./competitions.api.e2ee0d58.js";import{C as N,G as j,a as z}from"./city.api.07d82676.js";import{C as G,A as k}from"./advertisements.api.3289fc55.js";import{C as W}from"./competition-types.api.037f62e5.js";import{a1 as Q,a5 as c,o as a,c as r,a as t,X as i,R as m,V as y,W as s,U as o,F as D,a8 as B,Q as E,e as H,r as T}from"./@vue.ab32a142.js";import{$ as I}from"./jquery.f931fcee.js";import"./lodash-es.2e433212.js";import"./@vueuse.4ac49989.js";import"./@element-plus.6e503c7c.js";import"./@ctrl.82a509e0.js";import"./dayjs.d96dc93a.js";import"./axios.04e16fa0.js";import"./async-validator.1c690774.js";import"./memoize-one.4ee5c96d.js";import"./escape-html.e5dfadb9.js";import"./normalize-wheel-es.8aeb3683.js";import"./@floating-ui.eae1f4bb.js";import"./lodash.4aca12d0.js";import"./vue-router.2be6d445.js";import"./js-cookie.31874410.js";import"./pinia.a7a730fe.js";import"./nprogress.e46cbde5.js";import"./js-base64.79f56a98.js";import"./pinia-plugin-persistedstate.f4ca662e.js";import"./vue-sweetalert2.891f877f.js";import"./@fortawesome.c9809c2b.js";import"./datatables.net-bs5.e18c8d11.js";import"./datatables.net.c69c83a2.js";import"./datatables.net-responsive-bs5.449cdb0d.js";import"./datatables.net-responsive.2a10a1b3.js";import"./jszip.2c79a5b0.js";import"./pdfmake.45c49c34.js";import"./datatables.net-buttons-bs5.1ab1a926.js";import"./datatables.net-buttons.5f6c1075.js";import"./@vueup.fdb4c0f7.js";import"./quill.2b7d1cee.js";import"./quill-delta.565c40c2.js";import"./fast-diff.40237be0.js";import"./lodash.clonedeep.14434a6c.js";import"./lodash.isequal.30baf809.js";import"./@intlify.20ef3030.js";const X={name:"CompetitionIndex",components:{Card:M},setup(){const{t:e}=P(),l=Q({field:[],fieldOptions:[{value:"competition",label:e("pages.competition")},{value:"concertPlace",label:e("pages.concert_place")},{value:"level",label:e("pages.level")},{value:"type",label:e("pages.type")},{value:"country",label:e("pages.country")},{value:"governorate",label:e("pages.governorate")},{value:"city",label:e("pages.city")},{value:"competitionPlace",label:e("pages.competition_place")},{value:"status",label:e("pages.status")},{value:"competitionDate",label:e("pages.competition_date")},{value:"competitionEnd",label:e("pages.competition_end")}],sponsorsOptions:[{value:"sponsor1",label:"\u0627\u0644\u0631\u0627\u0639\u064A 1"},{value:"sponsor2",label:"\u0627\u0644\u0631\u0627\u0639\u064A 2"}],supportingEntitiesOptions:[{value:"entity1",label:"\u062C\u0647\u0629 1"},{value:"entity2",label:"\u062C\u0647\u0629 2"}],statusOptions:[{value:"",label:e("pages.all")},{value:"draft",label:e("forms.draft_comp")},{value:"announced",label:e("forms.announced_comp")},{value:"in_progress",label:e("forms.in_progress_comp")},{value:"finished",label:e("forms.finished_comp")}]});return{t:e,filterForm:l}},data(){return{competition:{page:1,competition_ids:[],concert_honoring:"",competition_level_ids:[],competition_type_ids:[],country_id:[],governorate_ids:[],city_ids:[],competition_place:"",status:"",competition_start_date:[],competition_end_date:[]},competitions:[],competitionsForFilter:[],concertHonoring:[],competitionLevels:[],competitionTypes:[],countries:[],governorates:[],cities:[],statusAction:{status:!1},filters:{page:1},pagination:{}}},methods:{getCompetitions(){S.list(this.competition).then(({data:e})=>{this.competitions=e.data,this.pagination=e.meta}).catch(e=>{console.log(e)})},getCompetitionsForFilter(){let e={get_for_filter:!0};S.list(e).then(({data:l})=>{this.competitionsForFilter=l.data}).catch(l=>{console.log(l)})},getCompetitionLevels(){G.list().then(({data:e})=>{this.competitionLevels=e.data}).catch(e=>{console.log(e)})},getCompetitionTypes(){W.list().then(({data:e})=>{this.competitionTypes=e.data}).catch(e=>{console.log(e)})},getCountries(){N.list().then(({data:e})=>{this.countries=e.data}).catch(e=>{console.log(e)})},getGovernorates(){let e={country:this.competition.country_id};j.list(e).then(({data:l})=>{this.governorates=l.data}).catch(l=>{console.log(l)})},getCities(){let e={governorate:this.competition.governorate_ids};z.list(e).then(({data:l})=>{this.cities=l.data}).catch(l=>{console.log(l)})},toggle(e={}){S.changeStatus(e).then(l=>{O().success(l.data.message)})}},mounted(){this.getCompetitions(),this.getCountries(),this.getCompetitionLevels(),this.getCompetitionsForFilter(),this.getCompetitionTypes()}},J={class:"card-body px-0"},K={class:"row align-items-end justify-content-between mx-0 px-3"},Y={class:"col-md-10 p-0"},Z={class:"d-flex align-items-center"},x={class:"col-md-2 d-flex justify-content-end p-0"},ee={key:0,class:"px-3"},te={class:"row align-items-end"},oe={key:0,class:"col-md-4 col-lg-3"},se={key:1,class:"col-md-4 col-lg-3"},le={key:2,class:"col-md-4 col-lg-3"},ie={key:3,class:"col-md-4 col-lg-3"},ae={key:4,class:"col-md-4 col-lg-3"},re={key:5,class:"col-md-4 col-lg-3"},ne={key:6,class:"col-md-4 col-lg-3"},de={key:7,class:"col-md-4 col-lg-3"},me={key:8,class:"col-md-4 col-lg-3"},ce={key:9,class:"col-md-4 col-lg-3"},pe={key:10,class:"col-md-4 col-lg-3"},ue={class:"col-md-4 col-lg-3"},fe={class:"mb-3"},ge={class:"pt-3"},_e=t("th",null,"#",-1),he={class:"d-flex flex-column align-items-center"},ve={class:"btn-list d-inline-flex"},be={class:"dropdown me-1"},ye={class:"btn btn-light-babyblue text-white dropdown-toggle",type:"button",id:"dropdownMenuButton1","data-bs-toggle":"dropdown","aria-expanded":"false"},$e=["title"],Ce={class:"dropdown-menu","aria-labelledby":"dropdownMenuButton1"};function we(e,l,d,p,v,g){const f=c("font-awesome-icon"),h=c("form-select"),u=c("router-link"),$=c("form-input"),C=c("form-date-select"),w=c("form-switcher"),b=c("DataTable");return a(),r("div",J,[t("div",K,[t("div",Y,[t("div",Z,[i(f,{icon:"fa-solid fa-filter",class:"text-grayClr me-3 fs-3"}),i(h,{title:"pages.choose_field",label:"name",name:"field",multiple:"","collapse-tags":"","collapse-tags-tooltip":"",onClearErrors:e.clearInput,model:p.filterForm,myOptions:p.filterForm.fieldOptions,errors:e.formErrors},null,8,["onClearErrors","model","myOptions","errors"])])]),t("div",x,[i(u,{to:"/competitions/create",class:"btn ripple btn-babyblue text-white mb-3"},{default:m(()=>[i(f,{icon:"fa-solid fa-plus",class:"me-1"}),y(" "+s(e.$t("pages.add_competition")),1)]),_:1})])]),p.filterForm.field.length>0?(a(),r("div",ee,[t("form",te,[p.filterForm.field.indexOf("competition")!==-1?(a(),r("div",oe,[i(h,{title:"pages.competition",label:"name",name:"competition_ids",multiple:"","collapse-tags":"","collapse-tags-tooltip":"",onClearErrors:e.clearInput,model:this.competition,myOptions:this.competitionsForFilter,"label-field":"name","value-field":"id",errors:e.formErrors},null,8,["onClearErrors","model","myOptions","errors"])])):o("v-if",!0),p.filterForm.field.indexOf("concertPlace")!==-1?(a(),r("div",se,[i($,{label:"pages.concert_place",type:"text",name:"concert_honoring",model:this.competition,onClearErrors:e.clearInput,errors:e.formErrors},null,8,["model","onClearErrors","errors"])])):o("v-if",!0),o("                <div"),o('                    class="col-md-4 col-lg-3"'),o(`                    v-if="filterForm.field.indexOf('sponsors') !== -1"`),o("                >"),o("                    <form-select"),o('                        title="pages.sponsors"'),o('                        label="name"'),o('                        name="sponsors"'),o("                        multiple"),o("                        collapse-tags"),o("                        collapse-tags-tooltip"),o('                        @clearErrors="clearInput"'),o('                        :model="filterForm"'),o('                        :myOptions="filterForm.sponsorsOptions"'),o('                        :errors="formErrors"'),o("                    />"),o("                </div>"),o("                <div"),o('                    class="col-md-4 col-lg-3"'),o(`                    v-if="filterForm.field.indexOf('supportingEntities') !== -1"`),o("                >"),o("                    <form-select"),o('                        title="pages.supporting_entities"'),o('                        label="name"'),o('                        name="supportingEntities"'),o("                        multiple"),o("                        collapse-tags"),o("                        collapse-tags-tooltip"),o('                        @clearErrors="clearInput"'),o('                        :model="filterForm"'),o('                        :myOptions="filterForm.supportingEntitiesOptions"'),o('                        :errors="formErrors"'),o("                    />"),o("                </div>"),p.filterForm.field.indexOf("level")!==-1?(a(),r("div",le,[i(h,{title:"pages.level",label:"name",name:"competition_level_ids",multiple:"","collapse-tags":"","collapse-tags-tooltip":"",onClearErrors:e.clearInput,model:this.competition,myOptions:this.competitionLevels,"label-field":"name_localized","value-field":"id",errors:e.formErrors},null,8,["onClearErrors","model","myOptions","errors"])])):o("v-if",!0),p.filterForm.field.indexOf("type")!==-1?(a(),r("div",ie,[i(h,{title:"pages.type",label:"name",name:"competition_type_ids",multiple:"","collapse-tags":"","collapse-tags-tooltip":"",onClearErrors:e.clearInput,model:this.competition,myOptions:v.competitionTypes,"label-field":"name_localized","value-field":"id",errors:e.formErrors},null,8,["onClearErrors","model","myOptions","errors"])])):o("v-if",!0),p.filterForm.field.indexOf("country")!==-1?(a(),r("div",ae,[i(h,{title:"pages.country",label:"name",name:"country_id","collapse-tags":"","collapse-tags-tooltip":"",onClearErrors:e.clearInput,model:this.competition,myOptions:v.countries,"label-field":"name_localized","value-field":"id",errors:e.formErrors,onChange:g.getGovernorates},null,8,["onClearErrors","model","myOptions","errors","onChange"])])):o("v-if",!0),p.filterForm.field.indexOf("governorate")!==-1?(a(),r("div",re,[i(h,{title:"pages.governorate",label:"name",name:"governorate_ids",multiple:"","collapse-tags":"","collapse-tags-tooltip":"",onClearErrors:e.clearInput,model:this.competition,myOptions:v.governorates,"label-field":"name_localized","value-field":"id",errors:e.formErrors,onChange:g.getCities},null,8,["onClearErrors","model","myOptions","errors","onChange"])])):o("v-if",!0),p.filterForm.field.indexOf("city")!==-1?(a(),r("div",ne,[i(h,{title:"pages.city",label:"name",name:"city_ids",multiple:"","collapse-tags":"","collapse-tags-tooltip":"",onClearErrors:e.clearInput,model:this.competition,myOptions:v.cities,"label-field":"name_localized","value-field":"id",errors:e.formErrors},null,8,["onClearErrors","model","myOptions","errors"])])):o("v-if",!0),p.filterForm.field.indexOf("competitionPlace")!==-1?(a(),r("div",de,[i($,{label:"pages.competition_place",type:"text",name:"competition_place",model:this.competition,onClearErrors:e.clearInput,errors:e.formErrors},null,8,["model","onClearErrors","errors"])])):o("v-if",!0),p.filterForm.field.indexOf("status")!==-1?(a(),r("div",me,[i(h,{title:"pages.status",label:"name",name:"status","collapse-tags":"","collapse-tags-tooltip":"",onClearErrors:e.clearInput,model:this.competition,myOptions:p.filterForm.statusOptions,"label-field":"label","value-field":"value",errors:e.formErrors},null,8,["onClearErrors","model","myOptions","errors"])])):o("v-if",!0),p.filterForm.field.indexOf("competitionDate")!==-1?(a(),r("div",ce,[i(C,{label:"pages.competition_date",model:this.competition,type:"daterange",name:"competition_start_date","range-separator":e.$t("pages.to"),"start-placeholder":e.$t("pages.start_date"),"end-placeholder":e.$t("pages.end_date"),errors:e.formErrors},null,8,["model","range-separator","start-placeholder","end-placeholder","errors"])])):o("v-if",!0),p.filterForm.field.indexOf("competitionEnd")!==-1?(a(),r("div",pe,[i(C,{label:"pages.competition_end",model:this.competition,type:"daterange",name:"competition_end_date","range-separator":e.$t("pages.to"),"start-placeholder":e.$t("pages.start_date"),"end-placeholder":e.$t("pages.end_date"),errors:e.formErrors},null,8,["model","range-separator","start-placeholder","end-placeholder","errors"])])):o("v-if",!0),t("div",ue,[t("div",fe,[t("button",{onClick:l[0]||(l[0]=(...n)=>g.getCompetitions&&g.getCompetitions(...n)),type:"button",class:"btn ripple btn-babyblue text-white"},s(e.$t("global.search")),1)])])])])):o("v-if",!0),t("div",ge,[i(b,null,{default:m(()=>[t("thead",null,[t("tr",null,[_e,t("th",null,s(e.$t("pages.competition_name")),1),t("th",null,s(e.$t("pages.competition_type")),1),t("th",null,s(e.$t("pages.start_date")),1),t("th",null,s(e.$t("pages.end_date")),1),t("th",null,s(e.$t("pages.age_group")),1),t("th",null,s(e.$t("pages.address")),1),t("th",null,s(e.$t("pages.country")),1),t("th",null,s(e.$t("pages.governorate")),1),t("th",null,s(e.$t("pages.city")),1),t("th",null,s(e.$t("pages.status")),1),t("th",null,s(e.$t("global.actions")),1)])]),t("tbody",null,[(a(!0),r(D,null,B(this.competitions,(n,A)=>(a(),r("tr",null,[t("td",null,s(A+1),1),t("td",null,[i(u,{to:{name:"competition-show",params:{id:n.id}},class:"text-info text-underline"},{default:m(()=>[y(s(n.name),1)]),_:2},1032,["to"])]),t("td",null,s(n.competition_type_name),1),t("td",null,s(n.competition_start_date),1),t("td",null,s(n.competition_end_date),1),t("td",he,[(a(!0),r(D,null,B(n.ageGroups,(L,V)=>(a(),r("span",{class:"border-bottom",key:V},s(L),1))),128))]),t("td",null,s(n.competition_address),1),t("td",null,s(n.country),1),t("td",null,s(n.governorate),1),t("td",null,s(n.city),1),t("td",null,[i(w,{id:"status",model:n,name:"status",errors:e.formErrors,onClearErrors:e.clearInput,onToggle:L=>g.toggle(n)},null,8,["model","errors","onClearErrors","onToggle"])]),t("td",null,[t("div",ve,[i(u,{to:{name:"competition-create",params:{id:n.id}},class:"btn btn-light-secondary text-white me-1","data-bs-toggle":"tooltip","data-bs-placement":"top",title:e.$t("forms.edit")},{default:m(()=>[i(f,{icon:"fa-solid fa-pen-to-square"})]),_:2},1032,["to","title"]),t("div",be,[t("button",ye,[t("div",{"data-bs-toggle":"tooltip","data-bs-placement":"top",title:e.$t("forms.quick_add")},[i(f,{icon:"fa-solid fa-file-circle-plus"})],8,$e)]),t("ul",Ce,[t("li",null,[i(u,{to:`/competitions/competition-levels/${n.id}`,class:"dropdown-item"},{default:m(()=>[y(s(e.$t("pages.competition_levels")),1)]),_:2},1032,["to"])]),t("li",null,[i(u,{to:`/competitions/competition-stages/${n.id}`,class:"dropdown-item"},{default:m(()=>[y(s(e.$t("sidebar.competition_stages")),1)]),_:2},1032,["to"])]),t("li",null,[i(u,{to:`/competitions/competition-place/${n.id}`,class:"dropdown-item"},{default:m(()=>[y(s(e.$t("pages.competition_place")),1)]),_:2},1032,["to"])]),t("li",null,[i(u,{to:`/competitions/arbitration-committees/${n.id}`,class:"dropdown-item"},{default:m(()=>[y(s(e.$t("pages.arbitration_committees")),1)]),_:2},1032,["to"])]),t("li",null,[i(u,{to:`/competitions/honoring-ceremony/${n.id}`,class:"dropdown-item"},{default:m(()=>[y(s(e.$t("pages.honoring_ceremony")),1)]),_:2},1032,["to"])]),t("li",null,[i(u,{to:`/competitions/competition-prizes/${n.id}`,class:"dropdown-item"},{default:m(()=>[y(s(e.$t("pages.competition_prizes")),1)]),_:2},1032,["to"])]),t("li",null,[i(u,{to:`/competitions/standards-conditions/${n.id}`,class:"dropdown-item"},{default:m(()=>[y(s(e.$t("pages.standards_conditions")),1)]),_:2},1032,["to"])]),t("li",null,[i(u,{to:`/competitions/advertising-form/${n.id}`,class:"dropdown-item"},{default:m(()=>[y(s(e.$t("pages.advertising_form")),1)]),_:2},1032,["to"])])])])])])]))),256))])]),_:1})])])}const Ee=F(X,[["render",we],["__file","E:/Roqay/Rasekhon/rasekhon/resources/app/views/competitions/competitions/CompetitionIndex.vue"]]),ke={name:"AdvertisementForm",data(){const{t:e}=P();return{mediaTypeOptions:[{name:"link",label:e("pages.link")},{name:"video",label:e("pages.video")},{name:"image",label:e("pages.img")}],file:{filePreview:"",fileName:""},filtersCountries:{page:1}}},props:{id:{type:String,default:"addSampleModal"},ariaLabelledby:String,dataBsBackdrop:String,dataBskeyboard:String,modalDialogScrollable:Boolean,modalDialogCentered:Boolean,modalLg:Boolean,modalFullscreen:Boolean,advertisement:Object,title:{type:String,default:"pages.add_sample"}},methods:{clearForm(){this.clearErrors()},update(){this.submitFormDisabled=!0,k.update(this.advertisement).then(({data:e})=>{O().success(this.$t("messages.success")),this.submitFormDisabled=!1,I("#addSampleModal").modal("hide"),this.afterModalUpdateActions(this.advertisement,this.$parent.advertisements,e.data,this.advertisement.id)}).catch(e=>{console.log(e),this.formErrors=e.response.data.errors})},add(){this.submitFormDisabled=!0,k.store(this.advertisement).then(({data:e})=>{O().success(this.$t("messages.success")),this.submitFormDisabled=!1,I("#addSampleModal").modal("hide"),this.afterModalAddActions(this.advertisement,this.$parent.advertisements,e.data)}).catch(e=>{console.log(e),this.formErrors=e.response.data.errors})},submit(){this.advertisement.id===""?this.add():this.update()},async handleUpload(e){let l=new FormData;l.append("type","advertise_sample_attach"),l.append("advertise_sample_attach",e.file),k.upload(l).then(({data:d})=>{this.advertisement.ready_sample_id=d.id,this.advertisement.url=d.url,this.advertisement.advertise_sample_attach=d.url,console.log(d)}).catch(d=>{console.log(d)})},getUploadedData(e){this.filePreview=e.previewBase64,this.file.fileName=e.name}}},Fe={class:"mb-3"},Ae={class:"form-label"},Oe={class:"control-bg d-md-flex align-items-center flex-wrap"},De={key:0,class:"invalid-feedback"},Ie={key:0},Se={key:1},Be={class:"mb-3"},Me={class:"form-label"},Le={key:0,class:"invalid-feedback"},Pe={class:"align-items-center control-bg d-flex flex-wrap justify-content-end w-100"},Te={class:"mb-3"},Ve={class:"form-label"},qe={key:0,class:"invalid-feedback"};function Re(e,l,d,p,v,g){const f=c("form-input"),h=c("form-radio-group"),u=c("font-awesome-icon"),$=q,C=c("FormQuillEditor"),w=c("form-modal");return a(),E(w,{id:d.id,"aria-labelledby":d.ariaLabelledby,"modal-dialog-centered":d.modalDialogCentered,"modal-lg":d.modalLg,onClearForm:g.clearForm,onSubmit:g.submit,buttonDisabled:e.submitFormDisabled,title:d.title},{default:m(()=>[i(f,{label:"pages.sample_name",type:"text",model:this.advertisement,name:"name",errors:e.formErrors,onClearErrors:e.clearInput},null,8,["model","errors","onClearErrors"]),t("div",Fe,[t("label",Ae,s(e.$t("pages.medial_type")),1),t("div",Oe,[i(h,{options:v.mediaTypeOptions,model:this.advertisement,name:"media_type"},null,8,["options","model"])]),t("ul",null,[e.formErrors.hasOwnProperty("media_type")?(a(),r("li",De,s(e.formErrors.media_type[0]),1)):o("v-if",!0)])]),this.advertisement.media_type==="link"?(a(),r("div",Ie,[i(f,{id:"national-iD",label:"pages.video_link",type:"text",model:this.advertisement,name:"url",errors:e.formErrors,onClearErrors:e.clearInput},null,8,["model","errors","onClearErrors"])])):o("v-if",!0),this.advertisement.media_type==="video"||this.advertisement.media_type==="image"?(a(),r("div",Se,[t("div",Be,[t("label",Me,s(e.$t("pages.ready_sample")),1),i($,{name:"sample_attach",accept:"jpg,jpeg,png,mp4",onFileUploaded:l[0]||(l[0]=b=>g.getUploadedData(b)),ref:"uploadRefContract",class:"upload-demo","http-request":g.handleUpload,"auto-upload":!0,src:this.file.filePreview?this.file.filePreview:this.advertisement.url,limit:1,size:50},{trigger:m(()=>[t("div",Pe,[i(u,{icon:"fa-solid fa-upload"})])]),default:m(()=>[t("ul",null,[e.formErrors.hasOwnProperty("url")?(a(),r("li",Le,s(e.formErrors.url[0]),1)):o("v-if",!0)])]),_:1},8,["http-request","src"])])])):o("v-if",!0),t("div",Te,[t("label",Ve,s(e.$t("pages.desc")),1),i(C,{model:this.advertisement,name:"description"},null,8,["model"]),t("ul",null,[e.formErrors.hasOwnProperty("description")?(a(),r("li",qe,s(e.formErrors.description[0]),1)):o("v-if",!0)])])]),_:1},8,["id","aria-labelledby","modal-dialog-centered","modal-lg","onClearForm","onSubmit","buttonDisabled","title"])}const Ue=F(ke,[["render",Re],["__file","E:/Roqay/Rasekhon/rasekhon/resources/app/views/competitions/advertisements/AdvertisementForm.vue"]]),Ne={components:{Card:M},name:"AdvertisementView",props:{id:String,ariaLabelledby:String,dataBsBackdrop:String,dataBskeyboard:String,modalDialogScrollable:Boolean,modalDialogCentered:Boolean,modalLg:Boolean,modalFullscreen:Boolean,title:String,advertisement:Object},setup(){return H(()=>{const e=document.getElementById("uploadedVideo"),l=document.getElementById("circle-play-b");function d(){e.paused||e.ended?e.play():e.pause()}l&&(l.addEventListener("click",d),e.addEventListener("playing",function(){l.style.opacity=0}),e.addEventListener("pause",function(){l.style.opacity=1}))}),{}}},je={class:"mb-3"},ze={class:"text-grayClr"},Ge={class:"fs-14 fw-bold text-darkGray"},We={class:"mb-3"},Qe={class:"text-grayClr mb-3"},He={class:"video-container h-230px",id:"video-container"},Xe=["src","data-src"],Je={class:"video-container h-230px",id:"video-container"},Ke=["src"],Ye={class:"video-container h-230px",id:"video-container"},Ze=["poster"],xe=["src"],et=["src"],tt=["src"],ot=t("track",{kind:"subtitles",label:"English subtitles",src:"subtitles_en.vtt",srclang:"en",default:""},null,-1),st=t("track",{kind:"subtitles",label:"Deutsche Untertitel",src:"subtitles_de.vtt",srclang:"de"},null,-1),lt={class:"play-button-wrapper"},it={title:"Play video",class:"play-gif",id:"circle-play-b"},at=["src","data-src"],rt={class:"mb-3"},nt={class:"text-grayClr"},dt={class:"fs-14 fw-bold text-darkGray"},mt={class:"d-flex align-items-cenetr pt-4 justify-content-end"};function ct(e,l,d,p,v,g){const f=c("card"),h=c("Modal");return a(),E(h,{id:d.id,"aria-labelledby":d.ariaLabelledby,"modal-dialog-centered":d.modalDialogCentered,"modal-lg":d.modalLg,title:d.title},{body:m(()=>[t("div",je,[t("h6",ze,s(e.$t("pages.sample_name")),1),t("span",Ge,s(this.advertisement.name),1)]),t("div",We,[t("h6",Qe,s(e.$t("pages.sample")),1),this.advertisement.media_type==="image"?(a(),E(f,{key:0,class:"shadow p-2"},{default:m(()=>[t("div",He,[t("img",{src:this.advertisement.file_url,"data-src":this.advertisement.file_url,alt:"sample"},null,8,Xe)])]),_:1})):o("v-if",!0),this.advertisement.media_type==="link"?(a(),E(f,{key:1,class:"shadow p-2"},{default:m(()=>[t("div",Je,[t("iframe",{id:"video",src:this.advertisement.url,frameborder:"0",allowfullscreen:""},null,8,Ke)])]),_:1})):o("v-if",!0),this.advertisement.media_type==="video"?(a(),E(f,{key:2,class:"shadow p-2"},{default:m(()=>[o(" for vedio upload "),t("div",Ye,[t("video",{id:"uploadedVideo",controls:"controls",preload:"none",width:"100%",height:"100%",poster:this.advertisement.file_url},[this.advertisement.file_url.endsWith(".mp4")?(a(),r("source",{key:0,id:"mp4",src:this.advertisement.file_url,type:"video/mp4"},null,8,xe)):o("v-if",!0),this.advertisement.file_url.endsWith(".webm")?(a(),r("source",{key:1,id:"webm",src:this.advertisement.file_url,type:"video/webm"},null,8,et)):o("v-if",!0),this.advertisement.file_url.endsWith(".ogv")?(a(),r("source",{key:2,id:"ogv",src:this.advertisement.file_url,type:"video/ogg"},null,8,tt)):o("v-if",!0),ot,st,t("p",null,s(this.advertisement.description),1)],8,Ze),t("div",lt,[t("div",it,[t("img",{src:`${e.publicPath}/assets/images/play.svg`,"data-src":`${e.publicPath}/assets/images/play.svg`,alt:"play"},null,8,at)])])])]),_:1})):o("v-if",!0)]),t("div",rt,[t("h6",nt,s(e.$t("pages.desc")),1),t("span",dt,s(this.advertisement.description),1)]),t("div",mt,[t("button",{type:"button",class:"btn btn-light fw-bold ms-2","data-bs-dismiss":"modal",onClick:l[0]||(l[0]=(...u)=>e.close&&e.close(...u))},s(e.$t("forms.cancel")),1)])]),_:1},8,["id","aria-labelledby","modal-dialog-centered","modal-lg","title"])}const pt=F(Ne,[["render",ct],["__file","E:/Roqay/Rasekhon/rasekhon/resources/app/views/competitions/advertisements/AdvertisementView.vue"]]),ut={name:"AdvertisementIndex",components:{Card:M,AdvertisementForm:Ue,AdvertisementView:pt},data(){return{advertisements:[],advertisement:{id:"",name:"",description:"",media_type:"",url:"",ready_sample_id:""},isAddAdv:T(!0),statusAction:{status:!1},filters:{page:1}}},methods:{getAdvertisements(e=1){this.filters.page=e,k.list(this.filters).then(({data:l})=>{this.advertisements=l.data,this.pagination=l.meta}).catch(l=>{console.log(l)})},groupForm(e={},l){e.id&&(this.advertisement=_.cloneDeep(e)),l==="edit"&&I("#addSampleModal").modal("show"),l==="view"&&I("#viewSampleModal").modal("show")},clearForm(){this.clearErrors()},resetForm(){console.log(this.isAddAdv),alert("")},delAdvertisement(e,l){k.delete(e).then(d=>{this.advertisements.splice(l,1),O().success(d.data.message)})}},mounted(){this.getAdvertisements()}},ft={class:"card-body px-0"},gt={class:"d-flex flex-wrap align-items-center justify-content-end px-3"},_t=["title"],ht={type:"button",class:"btn btn-grayClr text-white me-1","data-bs-toggle":"collapse","data-bs-target":"#formAds","aria-expanded":"false","aria-controls":"formAds"},vt={id:"formAds",class:"collapse multi-collapse px-3"},bt={class:"pt-3"},yt=t("th",null,"#",-1),$t=["src"],Ct={class:"btn-list d-inline-flex"},wt=["onClick","title"],Et={type:"button",class:"btn btn-light-babyblue text-white me-1","data-bs-toggle":"modal","data-bs-target":"#viewSampleModal"},kt=["title"],Ft=["onClick"];function At(e,l,d,p,v,g){const f=c("font-awesome-icon"),h=c("filters"),u=c("delete-button"),$=c("DataTable"),C=c("AdvertisementForm"),w=c("AdvertisementView");return a(),r(D,null,[t("div",ft,[t("div",gt,[t("div",{"data-bs-toggle":"tooltip","data-bs-placement":"bottom",title:e.$t("forms.filter")},[t("button",ht,[i(f,{icon:"fa-solid fa-filter"})])],8,_t),t("button",{type:"button","data-bs-toggle":"modal","data-bs-target":"#addSampleModal",class:"btn ripple btn-babyblue text-white",onClick:l[0]||(l[0]=b=>v.isAddAdv=!0)},[i(f,{icon:"fa-solid fa-plus",class:"me-1"}),y(" "+s(e.$t("pages.add_sample")),1)])]),t("div",vt,[i(h,{onSubmit:g.getAdvertisements,model:v.filters},null,8,["onSubmit","model"])]),t("div",bt,[i($,{id:"governorate-table"},{default:m(()=>[t("thead",null,[t("tr",null,[yt,t("th",null,s(e.$t("pages.sample_name")),1),t("th",null,s(e.$t("pages.sample")),1),t("th",null,s(e.$t("global.actions")),1)])]),t("tbody",null,[(a(!0),r(D,null,B(this.advertisements,(b,n)=>(a(),r("tr",{key:n},[t("td",null,s(n+1),1),t("td",null,s(b.name),1),t("td",null,[t("img",{class:"wh-50px rounded",alt:"avatar",src:b.media_type==="image"?b.file_url:"/UI/assets/images/icons/youtube.png"},null,8,$t)]),t("td",null,[t("div",Ct,[t("div",{onClick:A=>g.groupForm(b,"view"),"data-bs-toggle":"tooltip","data-bs-placement":"top",title:e.$t("forms.view")},[t("button",Et,[i(f,{icon:"fa-solid fa-eye"})])],8,wt),t("div",{"data-bs-toggle":"tooltip","data-bs-placement":"top",title:e.$t("forms.edit")},[t("button",{type:"button",class:"btn btn-light-secondary text-white me-1","data-bs-toggle":"modal","data-bs-target":"#addSampleModal",onClick:A=>{v.isAddAdv=!1,g.groupForm(b,"edit")}},[i(f,{icon:"fa-solid fa-pen-to-square"})],8,Ft)],8,kt),e.hasPermission("delete","Advertisement")?(a(),E(u,{key:0,onDelModel:A=>g.delAdvertisement(b,n)},null,8,["onDelModel"])):o("v-if",!0)])])]))),128))])]),_:1})])]),o(" Modal "),i(C,{advertisement:v.advertisement,showButton:!1,title:v.isAddAdv?e.$t("pages.add_sample"):e.$t("pages.edit_sample"),id:"addSampleModal","aria-labelledby":"addSampleModalLabel","modal-dialog-centered":!0,"modal-lg":!0},null,8,["advertisement","title"]),i(w,{advertisement:v.advertisement,title:e.$t("pages.sample"),id:"viewSampleModal","aria-labelledby":"viewSampleModalLabel","modal-dialog-centered":!0,"modal-lg":!0},null,8,["advertisement","title"])],64)}const Ot=F(ut,[["render",At],["__file","E:/Roqay/Rasekhon/rasekhon/resources/app/views/competitions/advertisements/AdvertisementIndex.vue"]]),Dt={components:{CompetitionIndex:Ee,AdvertisementIndex:Ot},setup(){return{activeName:T("contests")}}};function It(e,l,d,p,v,g){const f=c("CompetitionIndex",!0),h=R,u=c("AdvertisementIndex"),$=U,C=c("Card");return a(),E(C,null,{default:m(()=>[i($,{modelValue:p.activeName,"onUpdate:modelValue":l[0]||(l[0]=w=>p.activeName=w)},{default:m(()=>[i(h,{label:e.$t("sidebar.contests"),name:"contests"},{default:m(()=>[i(f)]),_:1},8,["label"]),i(h,{label:e.$t("pages.adv"),name:"adv",lazy:""},{default:m(()=>[i(u)]),_:1},8,["label"])]),_:1},8,["modelValue"])]),_:1})}const Eo=F(Dt,[["render",It],["__file","E:/Roqay/Rasekhon/rasekhon/resources/app/views/competitions/CompetitionIndex.vue"]]);export{Eo as default};
