import{$ as c}from"./jquery.f931fcee.js";import{_ as D,C as R}from"./app.ca0dd7db.js";import{u as C}from"./vue-toastification.f8d70964.js";import{C as p}from"./contestant-levels.api.e6b50386.js";import"./vue.7bf2bcd0.js";import{a5 as n,o as d,Q as B,R as v,X as a,a as t,V as M,W as s,r as k,e as T,c as b,U as F,F as A,a8 as N}from"./@vue.ab32a142.js";import{Q}from"./@vueup.fdb4c0f7.js";import"./axios.04e16fa0.js";import"./lodash.4aca12d0.js";import"./vue-router.2be6d445.js";import"./js-cookie.31874410.js";import"./pinia.a7a730fe.js";import"./nprogress.e46cbde5.js";import"./element-plus.f4fb2d76.js";import"./lodash-es.2e433212.js";import"./@vueuse.4ac49989.js";import"./@element-plus.6e503c7c.js";import"./@ctrl.82a509e0.js";import"./dayjs.d96dc93a.js";import"./async-validator.1c690774.js";import"./memoize-one.4ee5c96d.js";import"./escape-html.e5dfadb9.js";import"./normalize-wheel-es.8aeb3683.js";import"./@floating-ui.eae1f4bb.js";import"./vue-i18n.0ab86f4b.js";import"./@intlify.20ef3030.js";import"./js-base64.79f56a98.js";import"./pinia-plugin-persistedstate.f4ca662e.js";import"./vue-sweetalert2.891f877f.js";import"./@fortawesome.c9809c2b.js";import"./datatables.net-bs5.e18c8d11.js";import"./datatables.net.c69c83a2.js";import"./datatables.net-responsive-bs5.449cdb0d.js";import"./datatables.net-responsive.2a10a1b3.js";import"./jszip.2c79a5b0.js";import"./pdfmake.45c49c34.js";import"./datatables.net-buttons-bs5.1ab1a926.js";import"./datatables.net-buttons.5f6c1075.js";import"./quill.2b7d1cee.js";import"./quill-delta.565c40c2.js";import"./fast-diff.40237be0.js";import"./lodash.clonedeep.14434a6c.js";import"./lodash.isequal.30baf809.js";const V={name:"ContestantLevelForm",data(){},props:{id:{type:String,default:"MainAddModal"},ariaLabelledby:String,dataBsBackdrop:String,dataBskeyboard:String,modalDialogScrollable:Boolean,modalDialogCentered:Boolean,modalLg:Boolean,modalFullscreen:Boolean,contestantLevel:{type:Object},title:{type:String,default:"pages.add_type"}},methods:{clearForm(){this.clearErrors(),this.resetForm(this.contestantLevel)},add(){this.submitFormDisabled=!0,p.store(this.contestantLevel).then(({data:e})=>{C().success(this.$t("messages.success")),this.submitFormDisabled=!1,c("#MainAddModal").modal("hide"),this.afterModalAddActions(this.contestantLevel,this.$parent.contestantLevels,e.data),this.clearEditorContent()}).catch(e=>{console.log(e),this.formErrors=e.response.data.errors})},update(){this.submitFormDisabled=!0,p.update(this.contestantLevel).then(({data:e})=>{C().success(this.$t("messages.success")),this.submitFormDisabled=!1,c("#MainAddModal").modal("hide"),this.afterModalUpdateActions(this.contestantLevel,this.$parent.contestantLevels,e.data,this.contestantLevel.id),this.clearEditorContent()}).catch(e=>{console.log(e),this.formErrors=e.response.data.errors})},submit(){this.contestantLevel.id===void 0?this.add():this.update()},clearEditorContent(){c(".ql-editor").html("")}}},q={class:"mb-3"},z={class:"form-label"},P={class:"ms-1 text-grayClr"},U={class:"mb-3"},j={class:"form-label"},O={class:"ms-1 text-grayClr"};function W(e,o,l,u,L,i){const h=n("form-input"),g=n("FormQuillEditor"),f=n("form-validation-errors"),y=n("form-modal");return d(),B(y,{id:l.id,"aria-labelledby":l.ariaLabelledby,"modal-dialog-centered":l.modalDialogCentered,"modal-lg":l.modalLg,onClearForm:i.clearForm,onSubmit:i.submit,buttonDisabled:e.submitFormDisabled,title:l.title},{default:v(()=>[a(h,{label:"pages.contestant_level_ar",type:"text",model:this.contestantLevel.name,name:"ar",errors:e.formErrors,error_key:"name.ar",onClearErrors:o[0]||(o[0]=m=>e.clearInput("name.ar"))},null,8,["model","errors"]),a(h,{label:"pages.contestant_level_en",type:"text",model:this.contestantLevel.name,name:"en",errors:e.formErrors,error_key:"name.en",onClearErrors:o[1]||(o[1]=m=>e.clearInput("name.en"))},null,8,["model","errors"]),t("div",q,[t("label",z,[M(s(e.$t("pages.desc"))+" (AR) ",1),t("span",P,"( "+s(e.$t("pages.optional"))+" )",1)]),a(g,{model:this.contestantLevel.description,name:"ar",onClick:o[2]||(o[2]=m=>e.clearInput("description.ar"))},null,8,["model"]),a(f,{errors:e.formErrors,name:"description.ar"},null,8,["errors"])]),t("div",U,[t("label",j,[M(s(e.$t("pages.desc"))+" (EN) ",1),t("span",O,"( "+s(e.$t("pages.optional"))+" )",1)]),a(g,{model:this.contestantLevel.description,name:"en",onClick:o[3]||(o[3]=m=>e.clearInput("description.en"))},null,8,["model"]),a(f,{errors:e.formErrors,name:"description.en"},null,8,["errors"])])]),_:1},8,["id","aria-labelledby","modal-dialog-centered","modal-lg","onClearForm","onSubmit","buttonDisabled","title"])}const X=D(V,[["render",W],["__file","E:/Roqay/Rasekhon/rasekhon/resources/app/views/settings/contestant-levels/ContestantLevelForm.vue"]]),G={components:{Card:R,QuillEditor:Q,ContestantLevelForm:X},setup(){const e=k(!0),o=k({name:{ar:"",en:""},description:{ar:"",en:""}});return T(()=>{c("#modal-btn").on("click",function(){e.value=!0})}),{isAdd:e,contestantLevel:o}},data(){return{statusAction:{status:!1},filters:{page:1},pagination:{},contestantLevels:[]}},methods:{getContestantLevels(e=1){this.filters.page=e,p.list(this.filters).then(({data:o})=>{this.contestantLevels=o.data,this.pagination=o.meta}).catch(o=>{console.log(o)})},groupForm(e={}){e.id?(this.title="pages.edit_type",this.contestantLevel=_.cloneDeep(e)):this.title="pages.add_type",c("#MainAddModal").modal("show")},clearForm(){this.clearErrors()},delContestantLevel(e,o){p.delete(e).then(l=>{this.contestantLevels.splice(o,1),C().success(l.data.message)})},toggle(e={}){p.changeStatus(e).then(o=>{C().success(o.data.message)})}},created(){this.getContestantLevels()}},H={id:"formFilter",class:"collapse multi-collapse"},J=t("th",null,"#",-1),K={class:"btn-list d-inline-flex"},Y=["title"],Z=["onClick"];function x(e,o,l,u,L,i){const h=n("filters"),g=n("card"),f=n("form-switcher"),y=n("font-awesome-icon"),m=n("delete-button"),S=n("DataTable"),w=n("Card"),I=n("ContestantLevelForm");return d(),b(A,null,[t("div",H,[a(g,null,{body:v(()=>[a(h,{onSubmit:i.getContestantLevels,model:L.filters},null,8,["onSubmit","model"])]),_:1})]),a(w,{class:"pt-3"},{default:v(()=>[a(S,null,{default:v(()=>[t("thead",null,[t("tr",null,[J,t("th",null,s(e.$t("pages.name")),1),t("th",null,s(e.$t("pages.desc")),1),t("th",null,s(e.$t("pages.last_update")),1),t("th",null,s(e.$t("pages.status")),1),t("th",null,s(e.$t("global.actions")),1)])]),t("tbody",null,[(d(!0),b(A,null,N(L.contestantLevels,(r,E)=>(d(),b("tr",{key:r.id},[t("td",null,s(E+1),1),t("td",null,s(r.name_localized),1),t("td",null,[t("p",null,s(r.description_localized),1)]),t("td",null,s(r.last_update),1),t("td",null,[a(f,{id:"status",model:r,name:"status",errors:e.formErrors,onClearErrors:e.clearInput,onToggle:$=>i.toggle(r)},null,8,["model","errors","onClearErrors","onToggle"])]),t("td",null,[t("div",K,[t("div",{"data-bs-toggle":"tooltip","data-bs-placement":"top",title:e.$t("forms.edit")},[e.hasPermission("update","ContestantLevel")?(d(),b("button",{key:0,type:"button",class:"btn btn-light-secondary text-white me-1","data-bs-toggle":"modal","data-bs-target":"#MainAddModal",onClick:$=>{u.isAdd=!1,i.groupForm(r)}},[a(y,{icon:"fa-solid fa-pen-to-square"})],8,Z)):F("v-if",!0)],8,Y),e.hasPermission("delete","ContestantLevel")?(d(),B(m,{key:0,onDelModel:$=>i.delContestantLevel(r,E)},null,8,["onDelModel"])):F("v-if",!0)])])]))),128))])]),_:1})]),_:1}),F(" Modal "),a(I,{contestantLevel:u.contestantLevel,showButton:!1,title:u.isAdd?e.$t("pages.add_level"):e.$t("pages.edit_level"),id:"MainAddModal","aria-labelledby":"MainAddModalLabel","modal-dialog-centered":!0,"modal-lg":!0},null,8,["contestantLevel","title"])],64)}const je=D(G,[["render",x],["__file","E:/Roqay/Rasekhon/rasekhon/resources/app/views/settings/contestant-levels/ContestantLevelIndex.vue"]]);export{je as default};
