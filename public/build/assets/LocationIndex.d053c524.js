import{m as j,n as q}from"./element-plus.f4fb2d76.js";import"./vue.7bf2bcd0.js";import{$ as w}from"./jquery.f931fcee.js";import{_ as A,C as R}from"./app.ca0dd7db.js";import{u as E}from"./vue-toastification.f8d70964.js";import{C as F,G as D,a as L}from"./city.api.07d82676.js";import{a5 as a,o as i,Q as I,R as v,X as r,a1 as O,c as f,a as t,V as T,W as l,F as G,a8 as B,U as C,a0 as z,r as M,e as N}from"./@vue.ab32a142.js";import"./lodash-es.2e433212.js";import"./@vueuse.4ac49989.js";import"./@element-plus.6e503c7c.js";import"./@ctrl.82a509e0.js";import"./dayjs.d96dc93a.js";import"./axios.04e16fa0.js";import"./async-validator.1c690774.js";import"./memoize-one.4ee5c96d.js";import"./escape-html.e5dfadb9.js";import"./normalize-wheel-es.8aeb3683.js";import"./@floating-ui.eae1f4bb.js";import"./lodash.4aca12d0.js";import"./vue-router.2be6d445.js";import"./js-cookie.31874410.js";import"./pinia.a7a730fe.js";import"./nprogress.e46cbde5.js";import"./vue-i18n.0ab86f4b.js";import"./@intlify.20ef3030.js";import"./js-base64.79f56a98.js";import"./pinia-plugin-persistedstate.f4ca662e.js";import"./vue-sweetalert2.891f877f.js";import"./@fortawesome.c9809c2b.js";import"./datatables.net-bs5.e18c8d11.js";import"./datatables.net.c69c83a2.js";import"./datatables.net-responsive-bs5.449cdb0d.js";import"./datatables.net-responsive.2a10a1b3.js";import"./jszip.2c79a5b0.js";import"./pdfmake.45c49c34.js";import"./datatables.net-buttons-bs5.1ab1a926.js";import"./datatables.net-buttons.5f6c1075.js";import"./@vueup.fdb4c0f7.js";import"./quill.2b7d1cee.js";import"./quill-delta.565c40c2.js";import"./fast-diff.40237be0.js";import"./lodash.clonedeep.14434a6c.js";import"./lodash.isequal.30baf809.js";const V={name:"CountryForm",data(){},emits:["toggle"],props:{id:{type:String,default:"addCountryModal"},ariaLabelledby:String,dataBsBackdrop:String,dataBskeyboard:String,modalDialogScrollable:Boolean,modalDialogCentered:Boolean,modalLg:Boolean,modalFullscreen:Boolean,country:{type:Object},title:{type:String,default:"pages.add_country"}},methods:{clearForm(){this.clearErrors(),this.resetForm(this.country)},update(){this.submitFormDisabled=!0,F.update(this.country).then(({data:e})=>{E().success(this.$t("messages.success")),this.submitFormDisabled=!1,w("#addCountryModal").modal("hide"),this.afterModalUpdateActions(this.country,this.$parent.countries,e.data,this.country.id)}).catch(e=>{this.submitFormDisabled=!1,this.formErrors=e.response.data.errors})},add(){this.submitFormDisabled=!0,F.store(this.country).then(({data:e})=>{E().success(this.$t("messages.success")),this.submitFormDisabled=!1,w("#addCountryModal").modal("hide"),this.afterModalAddActions(this.country,this.$parent.countries,e.data)}).catch(e=>{this.formErrors=e.response.data.errors})},submit(){this.country.id===void 0?this.add():this.update()}}};function P(e,o,s,d,c,n){const u=a("form-input"),m=a("form-modal");return i(),I(m,{id:s.id,"aria-labelledby":s.ariaLabelledby,"modal-dialog-centered":s.modalDialogCentered,"modal-lg":s.modalLg,onClearForm:n.clearForm,onSubmit:n.submit,buttonDisabled:e.submitFormDisabled,title:s.title},{default:v(()=>[r(u,{label:"pages.country_ar",type:"text",model:this.country.name,name:"ar",errors:e.formErrors,error_key:"name.ar",onClearErrors:o[0]||(o[0]=y=>e.clearInput("name.ar"))},null,8,["model","errors"]),r(u,{label:"pages.country_en",type:"text",model:this.country.name,name:"en",errors:e.formErrors,error_key:"name.en",onClearErrors:o[1]||(o[1]=y=>e.clearInput("name.en"))},null,8,["model","errors"])]),_:1},8,["id","aria-labelledby","modal-dialog-centered","modal-lg","onClearForm","onSubmit","buttonDisabled","title"])}const U=A(V,[["render",P],["__file","E:/Roqay/Rasekhon/rasekhon/resources/app/views/settings/location/countries/CountryForm.vue"]]),Q={components:{Card:R,CountryForm:U},setup(){return{isAddCountry:O(!0)}},data(){return{country:{name:{ar:"",en:""}},statusAction:{status:!1},filtersCountries:{page:1},pagination:{},countries:[]}},methods:{getCountries(){F.list().then(({data:e})=>{this.countries=e.data}).catch(e=>{console.log(e)})},groupForm(e={}){e.id?(this.title="pages.edit_country",this.country=_.cloneDeep(e)):this.title="pages.add_country",w("#addCountryModal").modal("show")},clearForm(){this.clearErrors()},delCountry(e,o){F.delete(e).then(s=>{this.countries.splice(o,1),E().success(s.data.message)})},toggle(e={}){F.changeStatus(e).then(o=>{E().success(o.data.message)})}},created(){this.getCountries()}},W={class:"card-body px-0"},X={class:"d-flex flex-wrap align-items-center justify-content-end px-3"},H=["title"],J={type:"button",class:"btn btn-grayClr text-white me-1","data-bs-toggle":"collapse","data-bs-target":"#formCountries","aria-expanded":"false","aria-controls":"formCountries"},K={id:"formCountries",class:"collapse multi-collapse px-3"},Y={key:0,class:"pt-3"},Z=t("th",null,"#",-1),x={class:"btn-list d-inline-flex"},ee=["title"],te=["onClick"];function oe(e,o,s,d,c,n){const u=a("font-awesome-icon"),m=a("filters"),y=a("form-switcher"),$=a("delete-button"),h=a("DataTable"),g=a("CountryForm");return i(),f(G,null,[t("div",W,[t("div",X,[t("div",{"data-bs-toggle":"tooltip","data-bs-placement":"bottom",title:e.$t("forms.filter")},[t("button",J,[r(u,{icon:"fa-solid fa-filter"})])],8,H),t("button",{type:"button","data-bs-toggle":"modal","data-bs-target":"#addCountryModal",class:"btn ripple btn-babyblue text-white",onClick:o[0]||(o[0]=b=>{d.isAddCountry=!0,n.groupForm(c.country)})},[r(u,{icon:"fa-solid fa-plus",class:"me-1"}),T(" "+l(e.$t("pages.add_country")),1)])]),t("div",K,[r(m,{onSubmit:n.getCountries,model:c.filtersCountries},null,8,["onSubmit","model"])]),c.countries.length?(i(),f("div",Y,[r(h,{id:"country-table"},{default:v(()=>[t("thead",null,[t("tr",null,[Z,t("th",null,l(e.$t("pages.country")),1),t("th",null,l(e.$t("pages.last_update")),1),t("th",null,l(e.$t("pages.status")),1),t("th",null,l(e.$t("global.actions")),1)])]),t("tbody",null,[(i(!0),f(G,null,B(c.countries,(b,p)=>(i(),f("tr",{key:b.id},[t("td",null,l(p+1),1),t("td",null,l(b.name_localized),1),t("td",null,l(b.updated_at),1),t("td",null,[r(y,{id:"status",model:b,name:"status",errors:e.formErrors,onClearErrors:e.clearInput,onToggle:k=>n.toggle(b)},null,8,["model","errors","onClearErrors","onToggle"])]),t("td",null,[t("div",x,[t("div",{"data-bs-toggle":"tooltip","data-bs-placement":"top",title:e.$t("forms.edit")},[e.hasPermission("update","Country")?(i(),f("button",{key:0,type:"button",class:"btn btn-light-secondary text-white me-1","data-bs-toggle":"modal","data-bs-target":"#addCountryModal",onClick:k=>{d.isAddCountry=!1,n.groupForm(b)}},[r(u,{icon:"fa-solid fa-pen-to-square"})],8,te)):C("v-if",!0)],8,ee),e.hasPermission("delete","Country")?(i(),I($,{key:0,onDelModel:k=>n.delCountry(b,p)},null,8,["onDelModel"])):C("v-if",!0)])])]))),128))])]),_:1})])):C("v-if",!0)]),C(" Modal "),C('    <pagination :pagination="pagination" @paginate="getRoles" />'),r(g,{country:c.country,showButton:!1,title:d.isAddCountry?e.$t("pages.add_country"):e.$t("pages.edit_country"),id:"addCountryModal","aria-labelledby":"addCountryModalLabel","modal-dialog-centered":!0,"modal-lg":!0},null,8,["country","title"])],64)}const re=A(Q,[["render",oe],["__file","E:/Roqay/Rasekhon/rasekhon/resources/app/views/settings/location/countries/CountryIndex.vue"]]),se={name:"GovernorateForm",data(){return{countries:[]}},props:{id:{type:String,default:"MainAddModal"},ariaLabelledby:String,dataBsBackdrop:String,dataBskeyboard:String,modalDialogScrollable:Boolean,modalDialogCentered:Boolean,modalLg:Boolean,modalFullscreen:Boolean,governorate:{type:Object},title:{type:String,default:"pages.add_governorate"}},methods:{addRow:function(){this.governorate.rows.push({ar:"",en:""})},removeElement:function(e){this.governorate.rows.splice(e,1)},clearForm(){this.clearErrors(),this.resetForm(this.governorate)},update(){this.submitFormDisabled=!0,w("#addGovernorateModal").modal("hide"),D.update(this.governorate).then(({data:e})=>{E().success(this.$t("messages.success")),this.submitFormDisabled=!1,w("#updateGovernorateModal").modal("hide"),this.afterModalUpdateActions(this.governorate,this.$parent.governorates,e.data,this.governorate.id)}).catch(e=>{console.log(e),this.formErrors=e.response.data.errors})},add(){this.governorate.status=!0,this.submitFormDisabled=!0,D.store(this.governorate).then(({data:e})=>{E().success(this.$t("messages.success")),this.submitFormDisabled=!1,w("#addGovernorateModal").modal("hide"),this.afterModalAddActions(this.governorate,this.$parent.governorates,e.data)}).catch(e=>{console.log(e),this.formErrors=e.response.data.errors})},submit(){this.governorate.id===void 0?this.add():this.update()},getCountries(){F.list().then(({data:e})=>{this.countries=e.data}).catch(e=>{console.log(e)})}},created(){this.getCountries()}},ae=t("hr",{class:"mt-2"},null,-1),ne={class:"row align-items-end"},le={class:"col-12 col-md-5"},ie={class:"col-9 col-md-5"},de={class:"col-3 col-md-2 d-flex justify-content-end"},ce=["hidden","title"],me={class:"col-12 col-md-5"},ue={class:"col-9 col-md-5"},ge={class:"col-3 col-md-2 d-flex justify-content-end"},pe=["onClick","title"];function he(e,o,s,d,c,n){const u=a("form-select"),m=a("form-input"),y=a("font-awesome-icon"),$=a("form-modal");return i(),I($,{id:s.id,"aria-labelledby":s.ariaLabelledby,"modal-dialog-centered":s.modalDialogCentered,"modal-lg":s.modalLg,onClearForm:n.clearForm,onSubmit:n.submit,buttonDisabled:e.submitFormDisabled,title:s.title},{default:v(()=>[r(u,{title:"pages.country",label:"name",name:"country_id",onChange:o[0]||(o[0]=h=>e.clearInput("country_id")),model:s.governorate,myOptions:this.countries,errors:e.formErrors,"label-field":"name_localized","value-field":"id"},null,8,["model","myOptions","errors"]),ae,t("div",ne,[t("div",le,[r(m,{label:"pages.governorate_ar",type:"text",model:this.governorate.name,name:"ar",errors:e.formErrors,error_key:"name.ar",onClearErrors:o[1]||(o[1]=h=>e.clearInput("name.ar"))},null,8,["model","errors"])]),t("div",ie,[r(m,{label:"pages.governorate_en",type:"text",model:this.governorate.name,name:"en",errors:e.formErrors,error_key:"name.en",onClearErrors:o[2]||(o[2]=h=>e.clearInput("name.en"))},null,8,["model","errors"])]),t("div",de,[t("button",{hidden:this.$parent.isAddGovernorate?!1:this.$parent.hidden,onClick:o[3]||(o[3]=(...h)=>n.addRow&&n.addRow(...h)),type:"button",class:"btn btn-icon btn-light-babyblue text-white mb-3 p-0","data-bs-toggle":"tooltip","data-bs-placement":"top",title:e.$t("pages.add")},[r(y,{icon:"fa-solid fa-circle-plus"})],8,ce)])]),(i(!0),f(G,null,B(s.governorate.rows,(h,g)=>(i(),f("div",{class:"row align-items-end",key:g},[t("div",me,[r(m,{label:"pages.governorate_ar",showLabel:!1,type:"text",model:this.governorate.rows[g],name:"ar",errors:e.formErrors,error_key:"name.ar",onClearErrors:b=>e.clearInput(`rows.${g}.ar`)},null,8,["model","errors","onClearErrors"])]),t("div",ue,[r(m,{label:"pages.governorate_en",showLabel:!1,type:"text",model:this.governorate.rows[g],name:"en",errors:e.formErrors,error_key:"name.en",onClearErrors:b=>e.clearInput(`rows.${g}.en`)},null,8,["model","errors","onClearErrors"])]),t("div",ge,[t("button",{onClick:z(b=>n.removeElement(g),["stop"]),type:"button",class:"btn btn-icon btn-light-danger text-white mb-3 p-0","data-bs-toggle":"tooltip","data-bs-placement":"top",title:e.$t("forms.delete")},[r(y,{icon:"fa-solid fa-circle-minus"})],8,pe)])]))),128))]),_:1},8,["id","aria-labelledby","modal-dialog-centered","modal-lg","onClearForm","onSubmit","buttonDisabled","title"])}const be=A(se,[["render",he],["__file","E:/Roqay/Rasekhon/rasekhon/resources/app/views/settings/location/governorates/GovernorateForm.vue"]]),fe={name:"GovernorateIndex",components:{Card:R,GovernorateForm:be},setup(){const e=M(!0),o=M(!1),s=O({name:{ar:"",en:""},country_id:"",rows:[],status:M(!0)});return N(()=>{w("#addGovernorateModal").on("click",function(){e.value=!0})}),{isAddGovernorate:e,governorate:s,hidden:o}},data(){return{statusAction:{status:!1},filtersGovernorates:{page:1},governorates:{},countries:{},pagination:{}}},methods:{getGovernorates(e=1){this.filtersGovernorates.page=e,D.list(this.filtersGovernorates).then(({data:o})=>{this.governorates=o.data,this.pagination=o.meta}).catch(o=>{console.log(o)})},getCountries(){F.list().then(({data:e})=>{this.countries=e.data}).catch(e=>{console.log(e)})},groupForm(e={}){e.id?(this.title="pages.edit_country",this.governorate=_.cloneDeep(e)):this.title="pages.add_country",w("#addGovernorateModal").modal("show")},clearForm(){this.clearErrors()},delGovernorate(e,o){D.delete(e).then(s=>{this.governorates.splice(o,1),E().success(s.data.message)})},toggle(e={}){D.changeStatus(e).then(o=>{E().success(o.data.message)})}},created(){this.getGovernorates(),this.getCountries()}},ye={class:"card-body px-0"},_e={class:"d-flex flex-wrap align-items-center justify-content-end px-3"},ve=["title"],Ce={type:"button",class:"btn btn-grayClr text-white me-1","data-bs-toggle":"collapse","data-bs-target":"#formGovernorates","aria-expanded":"false","aria-controls":"formGovernorates"},$e={id:"formGovernorates",class:"collapse multi-collapse px-3"},we={class:"col-md-4 col-lg-3"},Ee={key:0,class:"pt-3"},Fe=t("th",null,"#",-1),ke={class:"btn-list d-inline-flex"},De=["title"],Ge=["onClick"];function Me(e,o,s,d,c,n){const u=a("font-awesome-icon"),m=a("form-select"),y=a("filters"),$=a("form-switcher"),h=a("delete-button"),g=a("DataTable"),b=a("GovernorateForm");return i(),f(G,null,[t("div",ye,[t("div",_e,[t("div",{"data-bs-toggle":"tooltip","data-bs-placement":"bottom",title:e.$t("forms.filter")},[t("button",Ce,[r(u,{icon:"fa-solid fa-filter"})])],8,ve),t("button",{type:"button","data-bs-toggle":"modal","data-bs-target":"#addGovernorateModal",class:"btn ripple btn-babyblue text-white",onClick:o[0]||(o[0]=p=>d.isAddGovernorate=!0)},[r(u,{icon:"fa-solid fa-plus",class:"me-1"}),T(" "+l(e.$t("pages.add_governorate")),1)])]),t("div",$e,[r(y,{onSubmit:n.getGovernorates,model:c.filtersGovernorates},{default:v(()=>[t("div",we,[r(m,{title:"pages.country",label:"name",name:"country","collapse-tags":"","collapse-tags-tooltip":"",model:c.filtersGovernorates,myOptions:c.countries,valueField:"id",labelField:"name_localized"},null,8,["model","myOptions"])])]),_:1},8,["onSubmit","model"])]),c.governorates.length?(i(),f("div",Ee,[r(g,{id:"governorate-table"},{default:v(()=>[t("thead",null,[t("tr",null,[Fe,t("th",null,l(e.$t("pages.governorate")),1),t("th",null,l(e.$t("pages.country")),1),t("th",null,l(e.$t("pages.last_update")),1),t("th",null,l(e.$t("pages.status")),1),t("th",null,l(e.$t("global.actions")),1)])]),t("tbody",null,[(i(!0),f(G,null,B(c.governorates,(p,k)=>(i(),f("tr",null,[t("td",null,l(k+0),1),t("td",null,l(p.name_localized),1),t("td",null,l(p.country_name_localized),1),t("td",null,l(p.updated_at),1),t("td",null,[r($,{id:"status",model:p,name:"status",errors:e.formErrors,onClearErrors:e.clearInput,onToggle:S=>n.toggle(p)},null,8,["model","errors","onClearErrors","onToggle"])]),t("td",null,[t("div",ke,[t("div",{"data-bs-toggle":"tooltip","data-bs-placement":"top",title:e.$t("forms.edit")},[t("button",{type:"button",class:"btn btn-light-secondary text-white me-1","data-bs-toggle":"modal","data-bs-target":"#addgovernorateModal",onClick:S=>{d.isAddGovernorate=!1,n.groupForm(p),d.hidden=!0}},[r(u,{icon:"fa-solid fa-pen-to-square"})],8,Ge)],8,De),e.hasPermission("delete","Governorate")?(i(),I(h,{key:0,onDelModel:S=>n.delGovernorate(p,k)},null,8,["onDelModel"])):C("v-if",!0)])])]))),256))])]),_:1})])):C("v-if",!0)]),C(" Modal "),r(b,{governorate:d.governorate,showButton:!1,title:d.isAddGovernorate?e.$t("pages.add_governorate"):e.$t("pages.edit_governorate"),"aria-labelledby":"addGovernorateModalLabel",id:d.isAddGovernorate?"addGovernorateModal":"updateGovernorateModal","modal-dialog-centered":"true","modal-lg":!0,countryOptions:this.countries},null,8,["governorate","title","id","countryOptions"])],64)}const Ae=A(fe,[["render",Me],["__file","E:/Roqay/Rasekhon/rasekhon/resources/app/views/settings/location/governorates/GovernorateIndex.vue"]]),Ie={name:"CityForm",data(){return{countries:[],cities:[],governorates:{},filtersCountries:{page:1},governoratesEdit:[]}},props:{id:{type:String,default:"MainAddModal"},ariaLabelledby:String,dataBsBackdrop:String,dataBskeyboard:String,modalDialogScrollable:Boolean,modalDialogCentered:Boolean,modalLg:Boolean,modalFullscreen:Boolean,city:{type:Object},countries:{type:Array},governorates:{type:Array},title:{type:String,default:"pages.add_city"}},methods:{addRow:function(){this.city.rows.push({ar:"",en:""})},removeElement:function(e){this.city.rows.splice(e,1)},clearForm(){this.clearErrors(),this.resetForm(this.city)},getGovernorates(e){let o={country:e};D.list(o).then(({data:s})=>{this.submitFormDisabled=!1,this.clearInput("country_id"),this.governorates=s.data}).catch(s=>{console.log(s)})},getGovernorateForEdit(){D.list().then(({data:e})=>{this.governoratesEdit=e.data}).catch(e=>{console.log(e)})},getCountries(e=1){this.filtersCountries.page=e,F.list(this.filtersCountries).then(({data:o})=>{this.countries=o.data}).catch(o=>{console.log(o)}),console.log(this.countries)},update(){this.submitFormDisabled=!0,L.update(this.city).then(({data:e})=>{E().success(this.$t("messages.success")),this.submitFormDisabled=!1,w("#cityForm").modal("hide"),this.afterModalUpdateActions(this.city,this.$parent.cities,e.data,this.city.id)}).catch(e=>{console.log(e),this.submitFormDisabled=!1,this.formErrors=e.response.data.errors})},add(){this.submitFormDisabled=!0,L.store(this.city).then(({data:e})=>{E().success(this.$t("messages.success")),this.submitFormDisabled=!1,w("#addCityModal").modal("hide"),this.afterModalAddActions(this.city,this.$parent.cities,e.data)}).catch(e=>{console.log(e),this.formErrors=e.response.data.errors})},submit(){this.city.id===void 0?this.add():this.update()}},created(){this.getCountries(),this.getGovernorateForEdit(),this.$parent.isAddCity?this.governorates:this.getGovernorates()}},Se=t("hr",{class:"mt-2"},null,-1),Be={class:"row align-items-end"},Le={class:"col-12 col-md-5"},Re={class:"col-9 col-md-5"},Oe={class:"col-3 col-md-2 d-flex justify-content-end"},Te=["hidden","title"],ze={class:"col-12 col-md-5"},je={class:"col-9 col-md-5"},qe={class:"col-3 col-md-2 d-flex justify-content-end"},Ne=["onClick","title"];function Ve(e,o,s,d,c,n){const u=a("form-select"),m=a("form-input"),y=a("font-awesome-icon"),$=a("form-modal");return i(),I($,{id:s.id,"aria-labelledby":s.ariaLabelledby,"modal-dialog-centered":s.modalDialogCentered,"modal-lg":s.modalLg,onClearForm:n.clearForm,onSubmit:n.submit,buttonDisabled:e.submitFormDisabled,title:s.title},{default:v(()=>[r(u,{title:"pages.country",label:"name",name:"country_id",onChange:o[0]||(o[0]=h=>{e.clearInput("country_id"),n.getGovernorates(this.city.country_id)}),model:s.city,myOptions:this.countries,errors:e.formErrors,"label-field":"country_name_localized","value-field":"id"},null,8,["model","myOptions","errors"]),r(u,{title:"pages.governorate",label:"name",name:"governorate_id",onChange:o[1]||(o[1]=h=>e.clearInput("governorate_id")),onClearErrors:e.formErrors,model:this.city,myOptions:this.governoratesEdit,errors:e.formErrors,"label-field":"name_localized","value-field":"id"},null,8,["onClearErrors","model","myOptions","errors"]),Se,t("div",Be,[t("div",Le,[r(m,{label:"pages.city_ar",type:"text",model:this.city.name,name:"ar",errors:e.formErrors,error_key:"name.ar",onClearErrors:o[2]||(o[2]=h=>e.clearInput("name.ar"))},null,8,["model","errors"])]),t("div",Re,[r(m,{label:"pages.city_en",type:"text",model:this.city.name,name:"en",errors:e.formErrors,error_key:"name.en",onClearErrors:o[3]||(o[3]=h=>e.clearInput("name.en"))},null,8,["model","errors"])]),t("div",Oe,[t("button",{hidden:this.$parent.isAddCity?!1:this.$parent.hidden,onClick:o[4]||(o[4]=(...h)=>n.addRow&&n.addRow(...h)),type:"button",class:"btn btn-icon btn-light-babyblue text-white mb-3 p-0","data-bs-toggle":"tooltip","data-bs-placement":"top",title:e.$t("pages.add")},[r(y,{icon:"fa-solid fa-circle-plus"})],8,Te)])]),(i(!0),f(G,null,B(s.city.rows,(h,g)=>(i(),f("div",{class:"row align-items-end",key:g},[t("div",ze,[r(m,{label:"pages.city_ar",showLabel:!1,type:"text",model:this.city.rows[g],name:"ar",errors:e.formErrors,error_key:"name.ar",onClearErrors:b=>e.clearInput(`rows.${g}.ar`)},null,8,["model","errors","onClearErrors"])]),t("div",je,[r(m,{label:"pages.city_en",showLabel:!1,type:"text",model:this.city.rows[g],name:"en",errors:e.formErrors,error_key:"name.en",onClearErrors:b=>e.clearInput(`rows.${g}.en`)},null,8,["model","errors","onClearErrors"])]),t("div",qe,[t("button",{onClick:z(b=>n.removeElement(g),["stop"]),type:"button",class:"btn btn-icon btn-light-danger text-white mb-3 p-0","data-bs-toggle":"tooltip","data-bs-placement":"top",title:e.$t("forms.delete")},[r(y,{icon:"fa-solid fa-circle-minus"})],8,Ne)])]))),128))]),_:1},8,["id","aria-labelledby","modal-dialog-centered","modal-lg","onClearForm","onSubmit","buttonDisabled","title"])}const Pe=A(Ie,[["render",Ve],["__file","E:/Roqay/Rasekhon/rasekhon/resources/app/views/settings/location/cities/CityForm.vue"]]),Ue={name:"CityIndex",components:{Card:R,CityForm:Pe},setup(){const e=M({name:{ar:"",en:""},governorate_id:"",country_id:"",rows:[]}),o=M(!0),s=M(!1),d=O({rows:[]});return{isAddCity:o,hidden:s,cityNewForm:d,city:e}},data(){return{statusAction:{status:!1},filtersCities:{page:1},countries:[],governorates:[],cities:{},country_id:null}},methods:{getCities(e=1){this.filtersCities.page=e,L.list(this.filtersCities).then(({data:o})=>{this.cities=o.data,this.pagination=o.meta,this.filtersCities.country&&this.filtersCities.country!==this.country_id&&this.getGovernorates()}).catch(o=>{console.log(o)})},getGovernorates(){this.country_id=this.filtersCities.country;let e={country:this.filtersCities.country};D.list(e).then(({data:o})=>{this.governorates=o.data}).catch(o=>{console.log(o)})},getCountries(){F.list().then(({data:e})=>{this.countries=e.data}).catch(e=>{console.log(e)})},groupForm(e={}){console.log(e),e.id?(this.title="pages.edit_country",this.city=_.cloneDeep(e)):this.title="pages.add_country",w("#addCityModal").modal("show")},clearForm(){this.clearErrors()},toggle(e={}){L.changeStatus(e).then(o=>{E().success(o.data.message)})}},created(){this.getCities(),this.getCountries()}},Qe={class:"card-body px-0"},We={class:"d-flex flex-wrap align-items-center justify-content-end px-3"},Xe=["title"],He={type:"button",class:"btn btn-grayClr text-white me-1","data-bs-toggle":"collapse","data-bs-target":"#formCities","aria-expanded":"false","aria-controls":"formCities"},Je={id:"formCities",class:"collapse multi-collapse px-3"},Ke={class:"col-md-4 col-lg-3"},Ye={class:"col-md-4 col-lg-3"},Ze={key:0,class:"pt-3"},xe=t("th",null,"#",-1),et={class:"btn-list d-inline-flex"},tt=["title"],ot=["onClick"];function rt(e,o,s,d,c,n){const u=a("font-awesome-icon"),m=a("form-select"),y=a("filters"),$=a("form-switcher"),h=a("delete-button"),g=a("DataTable"),b=a("CityForm");return i(),f(G,null,[t("div",Qe,[t("div",We,[t("div",{"data-bs-toggle":"tooltip","data-bs-placement":"bottom",title:e.$t("forms.filter")},[t("button",He,[r(u,{icon:"fa-solid fa-filter"})])],8,Xe),t("button",{type:"button","data-bs-toggle":"modal","data-bs-target":"#addCityModal",class:"btn ripple btn-babyblue text-white",onClick:o[0]||(o[0]=p=>d.isAddCity=!0)},[r(u,{icon:"fa-solid fa-plus",class:"me-1"}),T(" "+l(e.$t("pages.add_city")),1)])]),t("div",Je,[r(y,{onSubmit:n.getCities,model:c.filtersCities},{default:v(()=>[t("div",Ke,[r(m,{title:"pages.country",label:"name",name:"country","collapse-tags":"","collapse-tags-tooltip":"",onClearErrors:e.clearInput,model:c.filtersCities,myOptions:c.countries,valueField:"id",labelField:"name_localized",errors:e.formErrors,onChange:n.getGovernorates},null,8,["onClearErrors","model","myOptions","errors","onChange"])]),t("div",Ye,[r(m,{title:"pages.governorate",label:"name",name:"governorate","collapse-tags":"","collapse-tags-tooltip":"",model:c.filtersCities,myOptions:c.governorates,valueField:"id",labelField:"name_localized"},null,8,["model","myOptions"])])]),_:1},8,["onSubmit","model"])]),c.cities.length?(i(),f("div",Ze,[r(g,{id:"city-table"},{default:v(()=>[t("thead",null,[t("tr",null,[xe,t("th",null,l(e.$t("pages.city")),1),t("th",null,l(e.$t("pages.country")),1),t("th",null,l(e.$t("pages.governorate")),1),t("th",null,l(e.$t("pages.last_update")),1),t("th",null,l(e.$t("pages.status")),1),t("th",null,l(e.$t("global.actions")),1)])]),t("tbody",null,[(i(!0),f(G,null,B(c.cities,(p,k)=>(i(),f("tr",null,[t("td",null,l(k+1),1),t("td",null,l(p.name_localized),1),t("td",null,l(p.country_name_localized),1),t("td",null,l(p.governorate_name_localized),1),t("td",null,l(p.updated_at),1),t("td",null,[r($,{id:"status",model:p,name:"status",errors:e.formErrors,onClearErrors:e.clearInput,onToggle:S=>n.toggle(p)},null,8,["model","errors","onClearErrors","onToggle"])]),t("td",null,[t("div",et,[t("div",{"data-bs-toggle":"tooltip","data-bs-placement":"top",title:e.$t("forms.edit")},[e.hasPermission("update","City")?(i(),f("button",{key:0,type:"button",class:"btn btn-light-secondary text-white me-1","data-bs-toggle":"modal","data-bs-target":"#addCityModal",onClick:S=>{d.isAddCity=!1,n.groupForm(p),d.hidden=!0}},[r(u,{icon:"fa-solid fa-pen-to-square"})],8,ot)):C("v-if",!0)],8,tt),e.hasPermission("delete","City")?(i(),I(h,{key:0,onDelModel:S=>e.delCity(p,k)},null,8,["onDelModel"])):C("v-if",!0)])])]))),256))])]),_:1})])):C("v-if",!0)]),C(" Modal "),r(b,{city:d.city,showButton:!1,title:d.isAddCity?e.$t("pages.add_city"):e.$t("pages.edit_city"),id:"addCityModal","aria-labelledby":"addCityModalLabel","modal-dialog-centered":!0,"modal-lg":!0},null,8,["city","title"])],64)}const st=A(Ue,[["render",rt],["__file","E:/Roqay/Rasekhon/rasekhon/resources/app/views/settings/location/cities/CityIndex.vue"]]),at={components:{CountryIndex:re,GovernorateIndex:Ae,CityIndex:st},setup(){return{activeName:M("country")}}};function nt(e,o,s,d,c,n){const u=a("CountryIndex"),m=j,y=a("GovernorateIndex"),$=a("CityIndex"),h=q,g=a("Card");return i(),I(g,null,{default:v(()=>[r(h,{modelValue:d.activeName,"onUpdate:modelValue":o[0]||(o[0]=b=>d.activeName=b)},{default:v(()=>[r(m,{label:e.$t("pages.countries"),name:"country"},{default:v(()=>[r(u)]),_:1},8,["label"]),r(m,{label:e.$t("pages.governorates"),name:"governorate",lazy:""},{default:v(()=>[r(y)]),_:1},8,["label"]),r(m,{label:e.$t("pages.cities"),name:"city",lazy:""},{default:v(()=>[r($)]),_:1},8,["label"])]),_:1},8,["modelValue"])]),_:1})}const Kt=A(at,[["render",nt],["__file","E:/Roqay/Rasekhon/rasekhon/resources/app/views/settings/location/LocationIndex.vue"]]);export{Kt as default};
